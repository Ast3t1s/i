<div class="modal-header" ng-init="resolveBP()">
  <h3 class="modal-title">Редактор правил</h3>
</div>
<div class="modal-body">
  <form class="form-horizontal">

    <div class="form-group">
      <div class="rule-content" ng-model="rule">
        <!--Якщо {{rule.sCondition}}, <br/>
        то {{rule.nID_EscalationRuleFunction}} {{rule.action.parameters.default}}.<br/>
        Параметри: {{rule.soData}}, послуга: {{rule.sID_BP}} ({{rule.bp.sName}}), задача: {{rule.sID_UserTask}}-->
      </div>
    </div>

    <div class="form-group">
      <label class="col-md-4 col-xs-4 control-label">Бізнес-процес:</label>
      <div class="col-md-8 col-xs-8">
        <select name="bpID" ng-model="rule.sID_BP" ng-options="processDefinition.sID as processDefinition.sName for processDefinition in processes"
        ng-required="true" class="form-control">
        <option style="display:none" value="">Бізнес-процес некоректний, оберіть інший.</option>        
        </select>        
      </div>
    </div>
    <div class="form-group">
      <label class="col-md-4 col-xs-4 control-label">Задачі бізнес-процеса:</label>
      <div class="col-md-8 col-xs-8">
        <input class="form-control" id="inputName" ng-model="rule.sID_UserTask">
      </div>
    </div>
    <div class="form-group">
      <label class="col-md-4 col-xs-4 control-label">Формула умови:</label>
      <div class="col-md-8 col-xs-8">
        <input class="form-control" id="inputName" ng-model="rule.sCondition" placeholder="nElapsedDays==nDaysLimit">
      </div>
    </div>
    <div class="form-group">
      <label class="col-md-4 col-xs-4 control-label">Параметри:</label>
      <div class="col-md-8 col-xs-8">
        <input class="form-control" id="inputName" ng-model="rule.soData" placeholder="nDaysLimit:3,asRecipientMail:[test@email.com]">
      </div>
    </div>
     <div class="form-group">
      <label class="col-md-4 col-xs-4 control-label">Файл шаблона:</label>
      <div class="col-md-8 col-xs-8">
        <input class="form-control" id="inputName" ng-model="rule.sPatternFile" placeholder="escalation/escalation_template.html">
      </div>
    </div>
     <div class="form-group">
      <label class="col-md-4 col-xs-4 control-label">ID функції ескалації:</label>
      <div class="col-md-4 col-xs-4">
        <input class="form-control" id="inputName" ng-model="rule.nID_EscalationRuleFunction.nID" placeholder="Надіслати e-mail (EscalationHandler_SendMailAlert)">
      </div>
      <div class="col-md-4 col-xs-4">
        <div >{{rule.nID_EscalationRuleFunction.sName}}</div>
      </div>
    </div>    
    
    
    <div class="modal-footer">
      <button type="submit" class="btn btn-primary" ng-click="save()">ОК</button>
      <button class="btn btn-warning" type="button" ng-click="cancel()">Відмінити</button>
    </div>
  </form>

</div>